package com.service;

import com.model.UserClaim;

public class TaxServiceImpl implements TaxService {

	@Override
	public double calculateTax(UserClaim userClaim) {
		// TODO Auto-generated method stub

		double taxClaimAmount = 0.0;
		String expenseType = userClaim.getExpenseType();
		double expenseAmount = userClaim.getExpenseAmt();
		double taxPercentage = 0.0;
		if (expenseType.equals("MedicalExpense")) {
			if (expenseAmount <= 1000.0) {
				taxPercentage = 15.0;
			} else if (expenseAmount >= 1001.0 && expenseAmount <= 10000.0) {
				taxPercentage = 20.0;
			} else {
				taxPercentage = 25.0;
			}
		} else if (expenseType.equals("TravelExpense")) {
			if (expenseAmount <= 1000.0) {
				taxPercentage = 10.0;
			} else if (expenseAmount >= 1001.0 && expenseAmount <= 10000.0) {
				taxPercentage = 15.0;
			} else {
				taxPercentage = 20.0;
			}
		} else {
			if (expenseAmount <= 1000.0) {
				taxPercentage = 5.0;
			} else if (expenseAmount >= 1001.0 && expenseAmount <= 10000.0) {
				taxPercentage = 10.0;
			} else {
				taxPercentage = 15.0;
			}
		}
		taxClaimAmount = expenseAmount * (taxPercentage / 100);
		return taxClaimAmount;
	}

}
